import React, { createContext, useState, useEffect } from "react";
import axios from "axios";

const API_URL = "https://crudcrud.com/api/44b03477ae7940cca2e1f10d7b1360e5/marketplace";

const sampleItems = [
  { name: "Item 1", price: 100, image: "data:image/webp;base64,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" },
  { name: "Item 2", price: 200, image: "https://m.media-amazon.com/images/I/517l6QHzWxL.jpg" },
  { name: "Item 3", price: 300, image: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAKsAuAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAAABQIDBAYBB//EADsQAAEDAgQDBAcHAwUBAAAAAAEAAgMEEQUSITFBUWETInGxBjJSgZHB8BQzQmJyodEVI+EkNIKS8Rb/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAMAwEAAhEDEQA/APuKEIUghCFJ5dYaiS5LjpwaenNaah+VluLjZK6p9yANgLIpil7y7dQQhBeK6nhMzg1vHfoqwCbWF7pxRwdjELjvu3SmiNjY2BrRYBSQhLIQhCkEIQpE2Jj/AFLRawte/j/lUNafaK2YyMsbJCNrj38Fja/m1491/JYrcXNDhw/dWteB6wI8QqGva42a4E8uKvadbXJPRSa6Z4Li2/DRakvisHNfsAdUwWozQhCEgIQhSCEKEj8kZda9htzUmOqk1ceA0b80scSTcrRVv0DL+qNTzPNZ1loIsvbL1oJtYbqTVh8Od9zs1NVTSx9nC0Hc7q9MFCEISAhCFIIQhSYcYbnoZLj1bFLWHM0F2txdOK5uekmaeLD5JJC68TT+VZrUXjUWdYjlbT4KbWNAs27RyB0+GyrarGoKwGUXtZw+BCZRuzMDuYulrdNlvp9YW9NEwVchCFpkIQhSCz1TrBo4bn6+C0JbiEly8bW0H17/ANkVRgeS4k80IAupAIaFlpo488o5BUgJjQR2Y53MpTWhCEshCEKQQhCkEIQpKqgZoJBzaR+y56n+5b4WXRTfdSfpPkubg+7aFmtRparGlUtKkCgr2lMKM3hPQpaCmFBrC79XyCYK1IQhaZCEIUgktW/O4Ha9yfems5ywPd+Ulc7JWxOkcSHDhsimNDVIKuOeJ1i17bE2BOmquaLgEWIPVDSTRtbim0TcjGt5BLqVuaRpPPZNExmhCEJAQhCkELy+6w1eL0dKbPkzu9mMXUm8G6Fz0vpM0OtHSutzc+3yWf8A+pkG9Kz/ALFGw46SoOWCV3JpP7LmoTZjVcfSSKqikgdA5j3sIbZ2bWx6KiPYDkimLwVMFUhTCCuDkyw3WF36vkEqBTXDP9uTzcmCtiEIWmQhCFJkxF+Ske4/Wq5Frg8kkg3N10uPuth51tc2/Yrm4GNdvZZrUW1Ho5hdQyQ/Yo6eeQd6opB2MpPtFzbEnxus0eAOoKa8ONYs58bS680kcgfvYG7L28CPFbojL+F595U3Pe+Iscd+KtWN+Cukkmu6QkBqeJVgkeRsrt7kBNUwUIQhICz1dXFSRdpKegA3JXlbWMpIDI8XOzW33K5WqqJaiUySuu4i2mgA5BGnFuIYnPV3bmMcfstPml2trKZ1NuPHovMvx5rOtYpeznt4arBUl7eFk1LbbJdVgt2UlGFdpJiMYc64ALiALcF1DVz2ANzSzzb2GQH9yPJP2qS4KYVQUwVJYE6w0WpWnmSUjCfUIy0kfhf4pgrQhCFpkIQhSJfSd1qRg5u/hJIWEgEFwv0Tn0oP9iEc3H5JdC13ZZg0loF73Wa1EA13Np91lY3N7BPgve3jG9x46r0St5H4IJ3hI/0xPNxW9KqCvpmRdm6TK699QmTJGyNzRuDh0K1Gamove2NjnuNmtFyV7dKMcqLAU7Dv3n+CQV19U+pmMjtBazW8gsLtfHkrJHKnl7R8lhscPy8VKyPLkvQCVJ45IvSKq+zw9m3WV+wG4+uC1Yni7aUdlTtEs3EDYeJSnBKGbE8S/qFa8vjiddoAs0vHyCKXQ4JR/YsOijcO+RmefzFM2qtjbWsrWhITCkF4ApAKSQXQUgtSxD8gSABP6X/bRdGDyTBVyEIWmQhCi94YwudoALqRN6TNL44Gje5+SSPkcWNZmJa0WtdasRqn1Ehc86bNbyCwMPNZrUWx3KttbdEbd+iwYjXsicRfZBbxI1pVkFQ6N2Zji09CuX/q3VXw4i134lacdzS4oC21Rb9QSerlM875TpmN7LHR1HaCwNxa6teVWiRU7vG3S56Lw8eZ4qTRcW66+H/q8Kk842SvEa1xzU9O61tHv+QV+I1Jhj7Np/uP26JG8PnmjpafWR534DqUF5T0rq6p+zwkho+8f7P+V1lLBHTxMiiblYzQBZ6CkiooBFEL8XE7uPMrYCAbceSksaFa1ptex8FkfUhlxG3ORvrYD3qiSSaRrg+Zwv7Hdt4JBq0G19LeKlaw1SSJjo227Wdx9p0rifNaIqyeI2c/O3k7ceBUjdrU3w94MOUG5YbH3pNSzxzsDmn9Q4tWykeYcSY38E0ZA8RY+RKYKcIQhaZCVY5OWxshb+LV3gmq5vFZO0rZOTe6EUwsqFUxWz6qhhWWmqSZkFHLM/1Y2F7j0AuvnNdjsc8pdnNivoFU3tsOqojs6JzRpzC4WSgZIwdwa8UUxjjrWyeq7Ra4KkjcpZVYSY3dpDmjPJp0WeCrkil7OfQ8+CzpfRPRp5lZK8nQWHn/AAE2edLpL6GnPhUrwd5iPgGp04XeOq0HoGX64Kp7g1rnO0Dd1cUrxqXs6XI31nutfpxSCirqczpZ5PcOQGyZ4FSGnp+3lFpp9TcbDgEpp4ftdfBA71PXeOYH+Suo3B8EF6DrZRc4vJDfV2ceJKHnRoG5PwXuWwsNAkIhoboBoNhyQdBc2CkBc295Wl8bI6eAAAvf3y52/wBaqTFccCCvLK8ta46gX5jRUkWJHIqSdPM6nmEjNvxdU+ebuppWHSOZpv8AlOnzXPEfDknOGvMlFGDqWkN+DtFJ0qEIW2AuUqjmqJieMjvMrq1yM/30t/aJRTGaXVZWmxstbwscuhuFlprheNiLjj1XPz0wgqHxEWAOnhzTiJ6rxSITRidmpYO94IJNJA1wtZJcUwoSMNm6rotP2uq5Iw4EHijDqfoI10eDSsfqRUOF/c1dAR3x0ulfo60RwzsGn9zN+3+E1I76YK9cufxx96qKP2Wkn3royLrl8aJ/qrv0DzKqlvo/HeaqmO+jG9OJ8wnSW+j7bUkh4mYn9gmdlRVGPWRxOw0Hn/HwUnd0E8gvYB3P+TvMqUosxv6hf4pDyNl8reLjqttTNC2f7psrw3KQToFmp3Bs8Zd6t7qUtPKJTZhs5xIdz15pT2pY0sbNGLBxtl5LG4d9v6VrntGxlOHAlmrjyKynV/gLeKKkSmuBguyt5yk+4W/hKz+3NPvR2I2Dj+Flz4k3Uj1CELbAXKYg0sq5Orj56Lq0gxyLLUZ+Dx5fQRTClwWaVt1qOov8eiqeFlpiaS1aYXjW4uDwVMrFWx5apKKunFPJmaD2TzoeXRZ3FNw5ssbo5Bmad/5Syspn0x9ph2ePmgrsHkDauRm2duniPopzbvXXKsqOwqI5Rclpvb2guqBDm5h6pFweiguAuuWx9vZ4oOOZn15rqmapD6UwHsoqgD1TZxVTHuAEfZpWcRL5hM0jwCYfanR30lb3fEfRT2ykIB3P+TvMqb25gRzCrjOWRw4OPd+Fj5K49N+SQzh2a/ThyVvbSluXO49b6/FDmNda41GxUDH+ZxUkbnUCxNuPzXmWwA5eanawsNAok2bmOyk8Dc7wzhx6Bddh0BhpRcWc7UjyCS4JRGWQyyDutNz1PALpLJkZteoQhaAWPEqft6R1hd7dW/wti8KqnHObl14cQoEXTHEGNbUyNaABfZYVhtme3oskjDwTB4WeQBSZGPy8VobI1wyuALTu08VRK0clWwlSQrMKZLrSyBn5HbfFa8D+1Mp/s1ZE5rotWOJBD2nkoxuI0B0WtnA8SUFsiOtioVcTainfC/1XBenR6m5IcQWy0NX2bu69hBY49Nl1NHVMq4Q+Pfi3ksHpPDG6nzuaM190pwmaSOeLI8i416oLqnC/RDJACM2jjseBXqi8A5RbR2/VIW35ry+l+CjDGxzrWsPym3kovaGvsNvFSeudrZouVqoKGSrm09UDvOto0fysrdGuHs7LraKNkVLEI2hoLQTbiTupLoYWQxNjjFmgWCsQhbYCEIUn/9k=" },
 { name: "Item 4", price: 100, image: "data:image/webp;base64,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" },
  { name: "Item 5", price: 200, image: "https://m.media-amazon.com/images/I/517l6QHzWxL.jpg" },
  { name: "Item 6", price: 300, image: "data:image/jpeg;base64,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" },
];

export const CartContext = createContext();

export const CartProvider = ({ children }) => {
  const [items, setItems] = useState([]); 
  const [cart, setCart] = useState([]); 

  const fetchItems = async () => {
    try {
      const response = await axios.get(API_URL);
      setItems(response.data); 
    } catch (error) {
      console.error("Error fetching items:", error);
    }
  };

  const addItemToDatabase = async (item) => {
    try {
      const response = await axios.post(API_URL, item);
      console.log("Item added to database:", response.data);
    } catch (error) {
      console.error("Error adding item to database:", error);
    }
  };

  useEffect(() => {
    const initializeItems = async () => {
      await fetchItems(); 
      if (items.length === 0) { 
        sampleItems.forEach((item) => addItemToDatabase(item));
      }
    };

    initializeItems(); 
  }, []); 

  // Add item to cart
  const addToCart = (item) => {
    setCart((prevCart) => [...prevCart, item]);
  };

  // Remove item from cart
  const removeFromCart = (id) => {
    setCart((prevCart) => prevCart.filter((item) => item._id !== id));
  };

  // Calculate cart total
  const cartTotal = cart.reduce((total, item) => total + item.price, 0);
  const cartCount = cart.length;

  return (
    <CartContext.Provider value={{ items, cart, addToCart, removeFromCart, cartTotal, cartCount }}>
      {children}
    </CartContext.Provider>
  );
};
